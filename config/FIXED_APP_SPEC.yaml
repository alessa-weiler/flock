alerts:
- rule: DEPLOYMENT_FAILED
- rule: DOMAIN_FAILED
domains:
- domain: pont.world
  type: PRIMARY
  zone: pont.world
envs:
- key: EMAIL_HOST
  scope: RUN_AND_BUILD_TIME
  value: smtp.gmail.com
- key: EMAIL_PORT
  scope: RUN_AND_BUILD_TIME
  value: "587"
- key: EMAIL_USER
  scope: RUN_AND_BUILD_TIME
  value: alessa@pont-diagnostics.com
- key: EMAIL_FROM
  scope: RUN_AND_BUILD_TIME
  value: alessa@pont-diagnostics.com
- key: BASE_URL
  scope: RUN_AND_BUILD_TIME
  value: http://localhost:8080
- key: EMAIL_PASSWORD
  scope: RUN_AND_BUILD_TIME
  value: xhlsbtdhaxzwviqt
- key: ENCRYPTION_PASSWORD
  scope: RUN_AND_BUILD_TIME
  value: your-super-secure-password-change-this
- key: ENCRYPTION_SALT
  scope: RUN_AND_BUILD_TIME
  value: your-unique-salt-change-this
- key: HASH_SALT
  scope: RUN_AND_BUILD_TIME
  value: your-hashing-salt-change-this
- key: DATABASE_ENCRYPTION_KEY
  scope: RUN_AND_BUILD_TIME
  value: your-database-key
- key: ENCRYPTION_MASTER_KEY
  scope: RUN_AND_BUILD_TIME
  value: 1vFS3QxaCwV174cUyrV4hXG_OBjiZwzfXXt6aeHW8Qo=
- key: DATABASE_URL
  scope: RUN_AND_BUILD_TIME
  value: postgresql://doadmin:AVNS_rbZAA35BkBUBJHElomG@db-postgresql-lon1-27386-do-user-23717438-0.l.db.ondigitalocean.com:25060/defaultdb?sslmode=require
- key: ADMIN_PASSWORD
  scope: RUN_AND_BUILD_TIME
  value: Smartcookie05!
- key: VERIFICATION_EMAIL
  scope: RUN_AND_BUILD_TIME
  value: alessa@pont-diagnostics.com
- key: STRIPE_PRICE_ID
  scope: RUN_AND_BUILD_TIME
  value: price_1S6B3JGwt37RvxTuQIGRtcPT
- key: STRIPE_SECRET_KEY
  scope: RUN_AND_BUILD_TIME
  value: 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
- key: STRIPE_PUBLISHABLE_KEY
  scope: RUN_AND_BUILD_TIME
  value: pk_live_51RsRP6Gwt37RvxTu4Mlu1LeAC7ChiFF6VSinvTDFat1Wbwl2emZzHCtlkmrDQaMrRnLszDYv2D34wRB33fCthDXa00Un9RUbKe
- key: STRIPE_WEBHOOK_SECRET
  scope: RUN_AND_BUILD_TIME
  value: whsec_Rmv8LRiYJjXflRaZN2zGhFt18SfO1bJ3
- key: REDIS_URL
  scope: RUN_AND_BUILD_TIME
  value: redis://default:C8IIN5Ig8YNsJBHU33bPGw87Q4xbLcfP@redis-17814.c338.eu-west-2-1.ec2.redns.redis-cloud.com:17814
- key: DO_SPACES_ENDPOINT
  scope: RUN_AND_BUILD_TIME
  value: https://lon1.digitaloceanspaces.com
- key: DO_SPACES_KEY
  scope: RUN_AND_BUILD_TIME
  value: DO00WC4UNKCDYWVUM92E
- key: DO_SPACES_SECRET
  scope: RUN_AND_BUILD_TIME
  value: Yd0/wQsQ0uwDENeJrs9kyj28IdVojprCwN8pLG+QZpI
- key: DO_SPACES_REGION
  scope: RUN_AND_BUILD_TIME
  value: lon1
- key: DO_SPACES_BUCKET
  scope: RUN_AND_BUILD_TIME
  value: flock-documents
- key: PINECONE_API_KEY
  scope: RUN_AND_BUILD_TIME
  value: pcsk_5EJDyi_QHz7hsp1TSvgPhMLjiwPRNsAM6D59Dh24AAQHxUbg1qooXY4U5ZTppWBRUqAuRL
- key: PINECONE_ENVIRONMENT
  scope: RUN_AND_BUILD_TIME
  value: us-east-1
- key: PINECONE_INDEX_NAME
  scope: RUN_AND_BUILD_TIME
  value: flock-knowledge-base
- key: OPENAI_API_KEY
  scope: RUN_AND_BUILD_TIME
  value: YOUR_OPENAI_KEY_HERE
features:
- buildpack-stack=ubuntu-22
ingress:
  rules:
  - component:
      name: flock
    match:
      authority:
        exact: ""
      path:
        prefix: /
name: sea-turtle-app
region: lon
services:
- environment_slug: python
  github:
    branch: main
    deploy_on_push: true
    repo: alessa-weiler/flock
  http_port: 8080
  instance_count: 1
  instance_size_slug: apps-s-1vcpu-0.5gb
  name: flock
  run_command: gunicorn wsgi:application --bind 0.0.0.0:$PORT --timeout 120 --workers 2 --worker-class sync
  source_dir: /
workers:
- environment_slug: python
  github:
    branch: main
    deploy_on_push: true
    repo: alessa-weiler/flock
  instance_count: 1
  instance_size_slug: apps-s-1vcpu-0.5gb
  name: worker
  run_command: celery -A tasks worker --loglevel=info --concurrency=2 --max-tasks-per-child=100
  source_dir: /
